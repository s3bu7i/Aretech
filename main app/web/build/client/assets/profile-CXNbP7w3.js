import{j as e,r as c,s as U}from"./index-b9mOX-ty.js";import{L as A}from"./leaf-B4xoEMwR.js";import{c as C,P as u,u as H,b as S}from"./index-BWEasW5l.js";import{c as f}from"./utils-DnNDQBbQ.js";import{C as p,a as g,b as v,c as h}from"./card-QBdUXyHB.js";import{c as J}from"./createLucideIcon-CP5-0Dwr.js";import{J as X}from"./index-BJkUeisO.js";import{j as Y}from"./index-VWaDGczM.js";import{u as q}from"./store-DN2nkw-m.js";import"./index-DaFgVfeA.js";import"./index-DVjGZTE2.js";/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=J("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);function Q({streakDays:a}){const t=["S","M","T","W","T","F","S"];return e.jsxs("div",{className:"flex flex-col items-center bg-white rounded-lg p-6 mb-6",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"bg-green-500 rounded-full w-24 h-24 flex items-center justify-center",children:e.jsx(A,{className:"text-white w-16 h-16"})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-black text-5xl font-black",children:a})})]}),e.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:t.map((s,r)=>e.jsx("div",{className:"bg-green-200 rounded-full w-8 h-8 flex items-center justify-center",children:e.jsx("span",{className:"text-green-800 text-xs font-semibold",children:s})},r))}),e.jsxs("h2",{className:"text-2xl font-bold text-green-800 mb-2",children:[a," Day Streak!"]}),e.jsx("p",{className:"text-green-600 text-center",children:a===0?"We haven't seen any recent activity. Time to pick up the pace!":"You're making a positive impact on the environment. Keep it up!"})]})}var N="Avatar",[Z,Ae]=C(N),[ee,k]=Z(N),R=c.forwardRef((a,t)=>{const{__scopeAvatar:s,...r}=a,[n,l]=c.useState("idle");return e.jsx(ee,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:l,children:e.jsx(u.span,{...r,ref:t})})});R.displayName=N;var I="AvatarImage",L=c.forwardRef((a,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:n=()=>{},...l}=a,d=k(I,s),o=ae(r),i=H(m=>{n(m),d.onImageLoadingStatusChange(m)});return S(()=>{o!=="idle"&&i(o)},[o,i]),o==="loaded"?e.jsx(u.img,{...l,ref:t,src:r}):null});L.displayName=I;var E="AvatarFallback",M=c.forwardRef((a,t)=>{const{__scopeAvatar:s,delayMs:r,...n}=a,l=k(E,s),[d,o]=c.useState(r===void 0);return c.useEffect(()=>{if(r!==void 0){const i=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(i)}},[r]),d&&l.imageLoadingStatus!=="loaded"?e.jsx(u.span,{...n,ref:t}):null});M.displayName=E;function ae(a){const[t,s]=c.useState("idle");return S(()=>{if(!a){s("error");return}let r=!0;const n=new window.Image,l=d=>()=>{r&&s(d)};return s("loading"),n.onload=l("loaded"),n.onerror=l("error"),n.src=a,()=>{r=!1}},[a]),t}var $=R,_=L,T=M;const V=c.forwardRef(({className:a,...t},s)=>e.jsx($,{ref:s,className:f("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t}));V.displayName=$.displayName;const te=c.forwardRef(({className:a,...t},s)=>e.jsx(_,{ref:s,className:f("aspect-square h-full w-full",a),...t}));te.displayName=_.displayName;const F=c.forwardRef(({className:a,...t},s)=>e.jsx(T,{ref:s,className:f("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t}));F.displayName=T.displayName;function se({points:a}){return e.jsxs(p,{className:"mb-6",children:[e.jsx(g,{className:"pb-2",children:e.jsxs(v,{className:"text-lg font-medium flex items-center",children:[e.jsx(A,{className:"mr-2 h-5 w-5 text-green-500"}),"Eco Points"]})}),e.jsxs(h,{children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:a}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep up the good work!"})]})]})}var j="Progress",w=100,[re,Ce]=C(j),[ne,oe]=re(j),G=c.forwardRef((a,t)=>{const{__scopeProgress:s,value:r=null,max:n,getValueLabel:l=le,...d}=a;(n||n===0)&&!b(n)&&console.error(ce(`${n}`,"Progress"));const o=b(n)?n:w;r!==null&&!y(r,o)&&console.error(ie(`${r}`,"Progress"));const i=y(r,o)?r:null,m=x(i)?l(i,o):void 0;return e.jsx(ne,{scope:s,value:i,max:o,children:e.jsx(u.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":x(i)?i:void 0,"aria-valuetext":m,role:"progressbar","data-state":O(i,o),"data-value":i??void 0,"data-max":o,...d,ref:t})})});G.displayName=j;var D="ProgressIndicator",W=c.forwardRef((a,t)=>{const{__scopeProgress:s,...r}=a,n=oe(D,s);return e.jsx(u.div,{"data-state":O(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...r,ref:t})});W.displayName=D;function le(a,t){return`${Math.round(a/t*100)}%`}function O(a,t){return a==null?"indeterminate":a===t?"complete":"loading"}function x(a){return typeof a=="number"}function b(a){return x(a)&&!isNaN(a)&&a>0}function y(a,t){return x(a)&&!isNaN(a)&&a<=t&&a>=0}function ce(a,t){return`Invalid prop \`max\` of value \`${a}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${w}\`.`}function ie(a,t){return`Invalid prop \`value\` of value \`${a}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${w} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var B=G,de=W;const K=c.forwardRef(({className:a,value:t,...s},r)=>e.jsx(B,{ref:r,className:f("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...s,children:e.jsx(de,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));K.displayName=B.displayName;const P=["Carbon Saver","Green Warrior","Sustainability Hero","Eco Champion","Planet Protector","Renewable Advocate","Climate Crusader","Waste Reducer","Nature Guardian","Energy Conservator"],ue=a=>{const t=[];for(let r=0;r<5;r++){const n=0+(r+1)*1e3,l=P[r%P.length];t.push({name:l,neededPoints:n,completed:a>=n,points:n})}return t};function me({points:a}){const t=ue(a);return e.jsxs(p,{className:"mb-6",children:[e.jsx(g,{className:"pb-2",children:e.jsxs(v,{className:"text-lg font-medium flex items-center",children:[e.jsx(z,{className:"mr-2 h-5 w-5 text-yellow-500"}),"Milestones"]})}),e.jsx(h,{children:e.jsx("ul",{className:"space-y-4",children:t==null?void 0:t.map((s,r)=>e.jsxs("li",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-medium ${s.completed?"text-green-600":""}`,children:s==null?void 0:s.name}),e.jsx(K,{value:Math.floor(a/s.neededPoints*100),className:"h-2 mt-1"})]}),e.jsxs("span",{className:`ml-2 text-sm ${s.completed?"text-green-600":"text-muted-foreground"}`,children:[(s==null?void 0:s.neededPoints)||0," pts"]})]},r))})})]})}const xe="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='12'%20cy='6'%20r='4'%20stroke='%231C274C'%20stroke-width='1.5'/%3e%3cpath%20d='M19.9975%2018C20%2017.8358%2020%2017.669%2020%2017.5C20%2015.0147%2016.4183%2013%2012%2013C7.58172%2013%204%2015.0147%204%2017.5C4%2019.9853%204%2022%2012%2022C14.231%2022%2015.8398%2021.8433%2017%2021.5634'%20stroke='%231C274C'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3c/svg%3e",Se=()=>[{title:"EcoRewards - Profile"},{name:"description",content:"Profile Page"}];function ke(a){const[t,s]=c.useState({}),r=U();c.useEffect(()=>{(async()=>{const d=localStorage.getItem("accessToken");if(!d){r("/login");return}const o=Y(d);s(o),console.log(o)})()},[]);const n=q(l=>l.balance);return e.jsxs(p,{children:[e.jsxs(g,{className:"flex flex-row items-center pb-4",children:[e.jsxs(V,{className:"h-20 w-20",children:[e.jsx("img",{src:xe,alt:"User's avatar"}),e.jsx(F,{children:"AV"})]}),e.jsxs("div",{className:"pl-4",children:[e.jsx(v,{className:"text-2xl",children:t!=null&&t.name?e.jsx(e.Fragment,{children:t==null?void 0:t.name}):"Your Name"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:n<1e3?"Eco Beginner":n>1e3&&n<5e3?"Eco Warrior":"Eco Master"})]})]}),e.jsxs(h,{children:[e.jsx(Q,{streakDays:2}),e.jsx(se,{points:n}),e.jsx(me,{points:n})]}),e.jsx("div",{className:"flex w-full",children:e.jsx("button",{className:"m-8 mt-0 bg-red-100 p-2 rounded-md w-full hover:bg-red-200 transition-colors",onClick:()=>{localStorage.removeItem("accessToken"),r("/login"),X.success("Logged out successfully!")},children:"Log Out"})})]})}export{ke as default,Se as meta};
